<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ™ºèƒ½åˆçº¦å¼€å‘ | Simon Pangan</title>
    <meta name="description" content="æ™ºèƒ½åˆçº¦">
    <link rel="preload stylesheet" href="/assets/style.a500513e.css" as="style">
    
    <script type="module" src="/assets/app.61cfc4e9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.f541e7e9.js">
    <link rel="modulepreload" href="/assets/chunks/theme.b4f344ab.js">
    <link rel="modulepreload" href="/assets/posts_æ™ºèƒ½åˆçº¦å¼€å‘.md.e198ff32.lean.js">
    <link rel="icon" type="image/svg" href="/horse.svg">
    <meta name="author" content="Clark Cui">
    <meta property="og:title" content="Home">
    <meta property="og:description" content="Home of Clark Cui">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-b6723eb2 data-v-324e8308><!--[--><!--]--><!--[--><span tabindex="-1" data-v-9c8615dd></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-9c8615dd> Skip to content </a><!--]--><!----><header class="VPNav" data-v-324e8308 data-v-5bdc5df3><div class="VPNavBar" data-v-5bdc5df3 data-v-4077a65e><div class="container" data-v-4077a65e><div class="title" data-v-4077a65e><div class="VPNavBarTitle" data-v-4077a65e data-v-6d57964e><a class="title" href="/" data-v-6d57964e><!--[--><!--]--><!----><!--[-->Simon Pangan<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-4077a65e><div class="curtain" data-v-4077a65e></div><div class="content-body" data-v-4077a65e><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-4077a65e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-4077a65e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-7f10a92a><!--[-->Blogs<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tags.html" tabindex="0" data-v-f732b5d0 data-v-7f10a92a><!--[-->Tags<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archives.html" tabindex="0" data-v-f732b5d0 data-v-7f10a92a><!--[-->Archives<!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://simonpangan.netlify.app/" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-7f10a92a><!--[-->About Me<!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://simonpangan-blogs.netlify.app/feed.xml" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-7f10a92a><!--[-->RSS<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-4077a65e data-v-5e9f0637><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-5e9f0637 data-v-a99ed743 data-v-92d8f6fb><span class="check" data-v-92d8f6fb><span class="icon" data-v-92d8f6fb><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a99ed743><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a99ed743><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-4077a65e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/simonpangan/" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/simonpangan" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="mailto:simonjoseph.pangan@gmail.com" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20">
            <path d="M874.666667 375.189333V746.666667a64 64 0 0 1-64 64H213.333333a64 64 0 0 1-64-64V375.189333l266.090667 225.6a149.333333 149.333333 0 0 0 193.152 0L874.666667 375.189333zM810.666667 213.333333a64.789333 64.789333 0 0 1 22.826666 4.181334 63.616 63.616 0 0 1 26.794667 19.413333 64.32 64.32 0 0 1 9.344 15.466667c2.773333 6.570667 4.48 13.696 4.906667 21.184L874.666667 277.333333v21.333334L553.536 572.586667a64 64 0 0 1-79.893333 2.538666l-3.178667-2.56L149.333333 298.666667v-21.333334a63.786667 63.786667 0 0 1 35.136-57.130666A63.872 63.872 0 0 1 213.333333 213.333333h597.333334z" ></path>
            </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-4077a65e data-v-c8c2ae4b data-v-6afe904b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6afe904b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6afe904b><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6afe904b><div class="VPMenu" data-v-6afe904b data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-a99ed743 data-v-92d8f6fb><span class="check" data-v-92d8f6fb><span class="icon" data-v-92d8f6fb><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a99ed743><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a99ed743><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/simonpangan/" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/simonpangan" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="mailto:simonjoseph.pangan@gmail.com" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20">
            <path d="M874.666667 375.189333V746.666667a64 64 0 0 1-64 64H213.333333a64 64 0 0 1-64-64V375.189333l266.090667 225.6a149.333333 149.333333 0 0 0 193.152 0L874.666667 375.189333zM810.666667 213.333333a64.789333 64.789333 0 0 1 22.826666 4.181334 63.616 63.616 0 0 1 26.794667 19.413333 64.32 64.32 0 0 1 9.344 15.466667c2.773333 6.570667 4.48 13.696 4.906667 21.184L874.666667 277.333333v21.333334L553.536 572.586667a64 64 0 0 1-79.893333 2.538666l-3.178667-2.56L149.333333 298.666667v-21.333334a63.786667 63.786667 0 0 1 35.136-57.130666A63.872 63.872 0 0 1 213.333333 213.333333h597.333334z" ></path>
            </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-4077a65e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav fixed reached-top" data-v-324e8308 data-v-693d654a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-693d654a data-v-bd10e8af><button data-v-bd10e8af>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-324e8308 data-v-f0629f57><div class="VPDoc" data-v-f0629f57 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><!----><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--[--><!--[--><!--[--><h1 class="title" data-v-61aca82c>æ™ºèƒ½åˆçº¦å¼€å‘</h1><div class="date" data-v-61aca82c>ğŸ•’ Published at: </div><!--]--><!----><!--]--><!--]--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _posts_%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91" data-v-a3c25e27><div><h2 id="ä»£ç åœ°å€" tabindex="-1">ä»£ç åœ°å€ <a class="header-anchor" href="#ä»£ç åœ°å€" aria-label="Permalink to &quot;ä»£ç åœ°å€&quot;">â€‹</a></h2><p><a href="https://github.com/xilibi2003/contract-training-code" target="_blank" rel="noreferrer">dlsq</a></p><h2 id="ä»¥å¤ªåŠå®¢æˆ·ç«¯" tabindex="-1">ä»¥å¤ªåŠå®¢æˆ·ç«¯ <a class="header-anchor" href="#ä»¥å¤ªåŠå®¢æˆ·ç«¯" aria-label="Permalink to &quot;ä»¥å¤ªåŠå®¢æˆ·ç«¯&quot;">â€‹</a></h2><h3 id="evm" tabindex="-1">EVM <a class="header-anchor" href="#evm" aria-label="Permalink to &quot;EVM&quot;">â€‹</a></h3><p>æ™ºèƒ½åˆçº¦çš„è¿è¡Œç¯å¢ƒï¼Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿæœº</p><h3 id="ä»¥å¤ªåŠå®¢æˆ·ç«¯-1" tabindex="-1">ä»¥å¤ªåŠå®¢æˆ·ç«¯ <a class="header-anchor" href="#ä»¥å¤ªåŠå®¢æˆ·ç«¯-1" aria-label="Permalink to &quot;ä»¥å¤ªåŠå®¢æˆ·ç«¯&quot;">â€‹</a></h3><ol><li>å®šä¹‰ï¼šä¹Ÿå°±æ˜¯ EVM çš„è½½ä½“ï¼Œä¹Ÿå°±æ˜¯åŒºå—é“¾ç½‘ç»œä¸­çš„èŠ‚ç‚¹çš„ç¨‹åºï¼Œåªè¦ç¬¦åˆç½‘ç»œè§„èŒƒï¼Œä»»ä½•è¯­è¨€éƒ½å¯ä»¥å®ç°å®¢æˆ·ç«¯</li><li>å¸¸è§çš„å®¢æˆ·ç«¯ï¼šGeth(Go å®ç°)ã€OpenEthereum(Rust å®ç°)ï¼Œé€šè¿‡ RPC æä¾›æœåŠ¡</li></ol><h2 id="è´¦æˆ·" tabindex="-1">è´¦æˆ· <a class="header-anchor" href="#è´¦æˆ·" aria-label="Permalink to &quot;è´¦æˆ·&quot;">â€‹</a></h2><p>æœ¬è´¨éƒ½æ˜¯ä¸€ä¸ª 20 ä¸ªå­—èŠ‚è¡¨ç¤ºçš„åœ°å€</p><ol><li><p>å¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰ï¼šç”±ç§é’¥æ§åˆ¶ï¼ˆæ¯”å¦‚ç”¨æˆ·çš„åœ°å€ï¼‰</p></li><li><p>åˆçº¦è´¦æˆ·ï¼šä»£ç æ§åˆ¶ï¼ˆæ¯”å¦‚åˆçº¦ä»£ç çš„éƒ¨ç½²åœ°å€ï¼‰</p></li></ol><blockquote><p>æ³¨æ„ï¼šäº¤æ˜“åªèƒ½ä»å¤–éƒ¨è´¦å·å‘å‡ºï¼Œåˆçº¦åªèƒ½è¢«åŠ¨æ‰§è¡Œã€‚åˆçº¦ä¹‹é—´çš„äº¤äº’ç§°ä¸ºæ¶ˆæ¯ï¼Œæ‰€æœ‰çš„ gas éƒ½ç”±å¤–éƒ¨è´¦å·æ”¯ä»˜</p></blockquote><h2 id="gas" tabindex="-1">Gas <a class="header-anchor" href="#gas" aria-label="Permalink to &quot;Gas&quot;">â€‹</a></h2><p>GAS æ˜¯ä¸€ä¸ªå·¥ä½œé‡å•ä½ï¼Œå¤æ‚åº¦è¶Šå¤§ï¼Œæ‰€éœ€ gas è¶Šå¤šã€‚è´¹ç”¨=gas æ•°é‡*gas å•ä»·ï¼ˆä»¥å¤ªå¸è®¡ä»· gweiï¼‰</p><h3 id="å•ä½" tabindex="-1">å•ä½ <a class="header-anchor" href="#å•ä½" aria-label="Permalink to &quot;å•ä½&quot;">â€‹</a></h3><ul><li>æœ€å°å•ä½ï¼šWei</li><li>10^9 Wei = 1 Gwei</li><li>10^12 Wei = 1 Szabo</li><li>10^15 Wei = 1 Finney</li><li>10^18 Wei = 1 Ether</li></ul><h2 id="ç½‘ç»œ" tabindex="-1">ç½‘ç»œ <a class="header-anchor" href="#ç½‘ç»œ" aria-label="Permalink to &quot;ç½‘ç»œ&quot;">â€‹</a></h2><ol><li><a href="https://cn.etherscan.com/" target="_blank" rel="noreferrer">ä¸»ç½‘ï¼ˆä»·å€¼ç½‘ç»œï¼‰</a></li><li><a href="https://goerli.etherscan.io/" target="_blank" rel="noreferrer">æµ‹è¯•ç½‘</a></li><li>å¼€å‘æ¨¡æ‹Ÿç½‘ï¼ˆæœ¬åœ°ç¯å¢ƒï¼Œä¸€èˆ¬å°±æ˜¯å€ŸåŠ©å·¥å…·èµ·è™šæ‹Ÿæœºï¼‰</li></ol><h2 id="åˆçº¦çš„ç¼–è¯‘ã€éƒ¨ç½²ã€æµ‹è¯•" tabindex="-1">åˆçº¦çš„ç¼–è¯‘ã€éƒ¨ç½²ã€æµ‹è¯• <a class="header-anchor" href="#åˆçº¦çš„ç¼–è¯‘ã€éƒ¨ç½²ã€æµ‹è¯•" aria-label="Permalink to &quot;åˆçº¦çš„ç¼–è¯‘ã€éƒ¨ç½²ã€æµ‹è¯•&quot;">â€‹</a></h2><h3 id="_1-remix" tabindex="-1">1. Remix <a class="header-anchor" href="#_1-remix" aria-label="Permalink to &quot;1. Remix&quot;">â€‹</a></h3><p><a href="https://remix.ethereum.org/" target="_blank" rel="noreferrer">é“¾æ¥</a></p><p>åœ¨contractsé‡Œæ·»åŠ Counter.sol</p><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// SPDX-License-Identifier:  MIT</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">solidity</span><span style="color:#A6ACCD;"> ^0.8.0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#FFCB6B;"> Counter</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> counter</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">count</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter</span><span style="color:#89DDFF;">+=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ç¼–è¾‘å™¨å·¦ä¾§é¢æ¿æœ‰æ–‡ä»¶å¤¹åŒºåŸŸã€æœç´¢åŒºåŸŸã€ç¼–è¯‘åŒºåŸŸã€éƒ¨ç½²åŒºåŸŸã€‚</p><p>ç¼–è¯‘åŒºåŸŸå¯é€‰ç¼–è¯‘å™¨ç‰ˆæœ¬ã€‚</p><p>éƒ¨ç½²åŒºåŸŸå¯é€‰éƒ¨ç½²é“¾ï¼ŒæˆåŠŸåä¼šæ˜¾ç¤ºéƒ¨ç½²åœ°å€ã€‚éƒ¨ç½²åˆçº¦ä¹Ÿæ˜¯ä¸€ç¬”äº¤æ˜“ï¼Œéœ€è¦åœ¨é’±åŒ…ç¡®è®¤ï¼Œä¹Ÿéœ€è¦gasè´¹ã€‚éƒ¨ç½²æˆåŠŸåä¼šæ˜¾ç¤ºäº¤äº’é¢æ¿ï¼Œæ©™è‰²æ˜¯è§¦å‘äº¤æ˜“ï¼Œè“è‰²ä»…è¯»å–ã€‚ç‚¹å‡»æ©™è‰²è§¦å‘äº¤æ˜“ï¼Œéœ€è¦é’±åŒ…ç¡®è®¤ï¼Œéœ€è¦gasè´¹ã€‚ç‚¹å‡»è“è‰²è¯»å°±ä¸éœ€è¦ã€‚</p><p>å®é™…æ“ä½œï¼šenvironment é€‰æ‹© injected web3ï¼Œè¿™é‡Œè¿æ¥ metamusk é’±åŒ…ï¼Œé’±åŒ…å•¥ç½‘ç»œï¼Œå°±æ˜¯å•¥ç½‘ç»œã€‚æ¨èç”¨ goerliï¼ˆeth æµ‹è¯•ç½‘ï¼‰,å»<a href="https://goerlifaucet.com/" target="_blank" rel="noreferrer">goerli faucet</a>ç”³è¯·ä¸€ç‚¹æµ‹è¯•å¸å³å¯ã€‚éƒ¨ç½²å‰ä¼šè¿æ¥é’±åŒ…ï¼Œç„¶åå°±æ˜¯ç”¨è´¦å·éƒ¨ç½²ä¸Šå»,éƒ¨ç½²å®Œåå¯ä»¥å»<a href="https://goerli.etherscan.io/" target="_blank" rel="noreferrer">æµ‹è¯•é“¾æŸ¥çŠ¶æ€</a>ã€‚</p><p>éƒ¨ç½²æˆåŠŸåï¼Œç‚¹ä¸¤æ¬¡æ©™è‰²è§¦å‘äº¤æ˜“ï¼Œå†ç‚¹è“è‰²å¯ä»¥è¯»åˆ°æ­¤æ—¶counterå€¼çš„çŠ¶æ€ï¼Œæ§åˆ¶å°æ‰“å°ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">&quot;0&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uint256: 2</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><blockquote><p>æ³¨æ„ remix ä¸­çš„ environment å¦‚æœæ˜¯é»˜è®¤çš„ï¼Œé‚£å°±æ˜¯è™šæ‹Ÿç½‘ç»œï¼Œåœ¨åŒºå—é“¾æµè§ˆå™¨æ˜¯æŸ¥ä¸åˆ°çš„ï¼Œè€Œä¸”ä¸éœ€è¦é’±åŒ…éªŒè¯ï¼Œä¹Ÿä¸éœ€è¦gasè´¹</p></blockquote><h3 id="_2-truffle" tabindex="-1">2. Truffle <a class="header-anchor" href="#_2-truffle" aria-label="Permalink to &quot;2. Truffle&quot;">â€‹</a></h3><p>Truffle:ç¼–è¯‘ã€éƒ¨ç½²ã€æµ‹è¯•åˆçº¦çš„ä¸€æ•´å¥—å¼€å‘å·¥å…·</p><p>ganacheæ˜¯å¼€å‘åŒºå—é“¾ï¼Œæä¾›æœ¬åœ°æ¨¡æ‹Ÿçš„é“¾ä¸Šç¯å¢ƒ</p><p><a href="https://trufflesuite.com/docs/truffle/" target="_blank" rel="noreferrer">å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://learnblockchain.cn/docs/truffle/" target="_blank" rel="noreferrer">ä¸­æ–‡æ–‡æ¡£</a></p><p><a href="https://github.com/clark-cui/truffle-demo" target="_blank" rel="noreferrer">æˆ‘çš„ä»£ç </a></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Truffle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">å®‰è£…</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">truffle</span></span>
<span class="line"><span style="color:#FFCB6B;">åˆ›å»ºå·¥ç¨‹</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">truffle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">initæˆ–è€…truffle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unbox</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">metacoin</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">æˆ‘ç”¨çš„ç¬¬äºŒä¸ªï¼Œç›¸å½“äºä½¿ç”¨metacoinè¿™ä¸ªæ¨¡ç‰ˆï¼Œæ³¨æ„éœ€è¦æ‰‹åŠ¨mkdirä¸€ä¸ªfolderï¼Œå†åœ¨é‡Œé¢æ‰§è¡Œåˆ›å»ºï¼Œæ³¨æ„é…ç½®proxy</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>truffleå·¥ç¨‹åŒ…å«</p><ul><li>contracts:æ™ºèƒ½åˆçº¦ç›®å½•</li><li>migrations:è¿ç§»æ–‡ä»¶ï¼Œç”¨æ¥æŒ‡ç¤ºå¦‚ä½•éƒ¨ç½²æ™ºèƒ½åˆçº¦</li><li>test:æ™ºèƒ½åˆçº¦æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶å¤¹</li><li>truffle-config.js:é…ç½®æ–‡ä»¶ï¼Œé…ç½®truffleè¿æ¥çš„ç½‘ç»œåŠç¼–è¯‘é€‰é¡¹</li><li>build:ç¼–è¯‘ç»“æœç›®å½•</li></ul><p>æ”¹é€ ä¸‹folder</p><ol><li><p>åˆ é™¤contractsã€migrationsã€testä¸‹çš„æ–‡ä»¶</p></li><li><p>contractsé‡Œæ·»åŠ Counter.sol</p><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// SPDX-License-Identifier:  MIT</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">solidity</span><span style="color:#A6ACCD;"> ^0.8.0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#FFCB6B;"> Counter</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> counter</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">count</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter</span><span style="color:#89DDFF;">+=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li></ol><h4 id="åˆçº¦ç¼–è¯‘" tabindex="-1">åˆçº¦ç¼–è¯‘ <a class="header-anchor" href="#åˆçº¦ç¼–è¯‘" aria-label="Permalink to &quot;åˆçº¦ç¼–è¯‘&quot;">â€‹</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">//ä½¿ç”¨å‘½ä»¤</span></span>
<span class="line"><span style="color:#FFCB6B;">truffle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">compile</span></span></code></pre></div><p>åœ¨é‚£ä¹‹å‰éœ€è¦é…ç½®truffle-config.jsï¼Œä¸é…ç½®å°±æ˜¯é»˜è®¤çš„0.5.16ç‰ˆæœ¬</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports={</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">compilers</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">solc</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.8.9</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ç¼–è¯‘å®Œæˆä¼šè¾“å‡ºåœ¨buildç›®å½•,åŒæ—¶ä¹Ÿä¼šåœ¨å‘½ä»¤è¡Œè¾“å‡ºç¼–è¯‘ä½¿ç”¨çš„ç¼–è¯‘å™¨</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Compiled successfully using:</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">solc:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.8</span><span style="color:#C3E88D;">.9+commit.e5eed63a.Emscripten.clang</span></span></code></pre></div><p>ç¼–è¯‘ç»“æœæ˜¯jsonï¼ˆä¸åˆçº¦ä¸€ä¸€å¯¹åº”ï¼‰ï¼Œé‡Œé¢abiæ˜¯å’Œå‰ç«¯äº¤äº’çš„ï¼Œbytecodeå°±æ˜¯æœ€åéƒ¨ç½²åœ¨é“¾ä¸Šçš„ä¸œè¥¿</p><h4 id="æ¥ä¸‹æ¥æ˜¯åˆçº¦çš„éƒ¨ç½²" tabindex="-1">æ¥ä¸‹æ¥æ˜¯åˆçº¦çš„éƒ¨ç½² <a class="header-anchor" href="#æ¥ä¸‹æ¥æ˜¯åˆçº¦çš„éƒ¨ç½²" aria-label="Permalink to &quot;æ¥ä¸‹æ¥æ˜¯åˆçº¦çš„éƒ¨ç½²&quot;">â€‹</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">//ä½¿ç”¨å‘½ä»¤</span></span>
<span class="line"><span style="color:#FFCB6B;">truffle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">migrate</span></span>
<span class="line"><span style="color:#FFCB6B;">truffle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">migrate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">networkname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//å¯ä»¥åœ¨åé¢åŠ networkå‚æ•°å’Œnetworkåå­—ï¼Œéƒ¨ç½²åˆ°æŒ‡å®šnetwork</span></span></code></pre></div><p>åœ¨é‚£ä¹‹å‰ï¼Œéœ€è¦å…ˆå†™å¥½é…ç½®æ–‡ä»¶</p><ol><li><p>ç¼–å†™éƒ¨ç½²è„šæœ¬</p><p>migrationsé‡Œæ·»åŠ 1_counter.js</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> artifacts</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">deployer</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">deployer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Counter</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div></li><li><p>éƒ¨ç½²åˆ°æœ¬åœ°èŠ‚ç‚¹ï¼ˆæˆ‘æ²¡æœ‰æï¼‰</p><ol><li><p>å…ˆå¯åŠ¨ä¸€ä¸ªæœåŠ¡æ¨¡æ‹Ÿé“¾ä¸Šç¯å¢ƒ<code>ganache-cli -p 7545</code>(ganacheæ˜¯å¼€å‘åŒºå—é“¾ï¼Œæä¾›æœ¬åœ°æ¨¡æ‹Ÿçš„é“¾ä¸Šç¯å¢ƒ)</p></li><li><p>ç„¶åæ·»åŠ devçš„network</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//truffle-config.js developmentç½‘ç»œé…ç½®</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports={</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">development</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">port</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">7545</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">   		</span><span style="color:#F07178;">network_id</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p><code>truffle migrate â€” network development</code>éƒ¨ç½²ï¼Œæœ¬åœ°éƒ¨ç½²ï¼Œä¸éœ€è¦éªŒè¯å’Œgasè´¹</p></li></ol></li><li><p>éƒ¨ç½²åˆ°é“¾ä¸Š</p><ol><li><p>éœ€è¦éƒ¨ç½²åˆ°é“¾ä¸Šçš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥å…ˆå»<a href="https://infura.io/" target="_blank" rel="noreferrer">infura.io</a>åˆ›å»ºä¸€ä¸ªprojectï¼Œç„¶åcopy project idï¼ˆé€‰æ‹©endpointsæ˜¯goerliï¼‰</p></li><li><p>å½“å‰ç›®å½•æ–°å»ºä¸¤ä¸ªéšè—æ–‡ä»¶ï¼Œ.api_keyå’Œ.mnemonicï¼Œ.gitignoreè¦æ·»åŠ è¿™ä¸¤é¡¹ï¼Œåˆ†åˆ«å­˜å‚¨ä¸Šä¸€æ­¥çš„idå’Œä½ çš„é’±åŒ…è´¦æˆ·åŠ©è®°è¯ï¼ˆä¸»è¦ä¸ºäº†é˜²æ­¢å¤–æ³„ï¼‰</p></li><li><p>åˆå§‹åŒ–npm ï¼Œæ·»åŠ truffle-hdwallet-provideråŒ…</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">truffle-hdwallet-provider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span></span>
<span class="line"><span style="color:#FFCB6B;">.gitignore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">æ·»åŠ node_modules</span></span></code></pre></div></li><li><p>config.jsé‡Œçš„networké‡Œæ·»åŠ æ–°çš„network goerli</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HDWalletProvider </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">truffle-hdwallet-provider</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> api_key </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFileSync</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.api_key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mnemonic </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFileSync</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.mnemonic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">goerli</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">provider</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">HDWalletProvider</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">mnemonic</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://goerli.infura.io/v3/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">api_key</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">network_id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">gas</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4465030</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">gasPrice</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10000000000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div></li><li><p>æ‰§è¡Œ<code>truffle migrate â€” network goerli</code>éƒ¨ç½²åˆ°goerliï¼Œè¿™é‡Œä¼šæ¶ˆè€—gasè´¹ï¼Œä½†æ²¡æœ‰metamuskå¼¹çª—ç¡®è®¤çš„è¿‡ç¨‹ï¼Œå› ä¸ºæˆ‘è¾“å…¥äº†åŠ©è®°è¯ï¼Œä»–ç›´æ¥åœ¨é’±åŒ…æ‰£æ¬¾äº†</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">//å‘½ä»¤è¡Œè¾“å‡º</span></span>
<span class="line"><span style="color:#FFCB6B;">Compiling</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">contracts...</span></span>
<span class="line"><span style="color:#A6ACCD;">===========================</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Everything is up to date, there is nothing to compile.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Migrations</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dry-run</span><span style="color:#A6ACCD;"> (simulation)</span></span>
<span class="line"><span style="color:#A6ACCD;">===============================</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Network name:    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">goerli-fork</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Network id:      5</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Block gas limit: 30000000 </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0x1c9c380</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">1_counter.js</span></span>
<span class="line"><span style="color:#A6ACCD;">============</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">Deploying</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">-------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">number:</span><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">6818292</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">timestamp:</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">1651505825</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">account:</span><span style="color:#A6ACCD;">             </span><span style="color:#F78C6C;">0x736D76f4C2d4b4CCced0CCA92d3dF0F0e456F35D</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">balance:</span><span style="color:#A6ACCD;">             </span><span style="color:#F78C6C;">0.04813429249775099</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">gas</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">used:</span><span style="color:#A6ACCD;">            </span><span style="color:#F78C6C;">135269</span><span style="color:#A6ACCD;"> (0x21065)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">gas</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">price:</span><span style="color:#A6ACCD;">           </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gwei</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sent:</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ETH</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">total</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cost:</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">0.00135269</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ETH</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">-------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Total</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cost:</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">0.00135269</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ETH</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Summary</span></span>
<span class="line"><span style="color:#A6ACCD;">=======</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Total deployments:   1</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Final cost:          0.00135269 ETH</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Starting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">migrations...</span></span>
<span class="line"><span style="color:#A6ACCD;">======================</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Network name:    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">goerli</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Network id:      5</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Block gas limit: 29970705 </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0x1c95111</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">1_counter.js</span></span>
<span class="line"><span style="color:#A6ACCD;">============</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">Deploying</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">-------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">transaction</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hash:</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0x376710e125c35233b468bd232444acc2239c38e837aeecf9ef9de6762715eca8</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Blocks:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">            </span><span style="color:#C3E88D;">Seconds:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">contract</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address:</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0xAc8dC14e7aC85556Bcc22c052FbB5Bc05D4E77D8</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">number:</span><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">6818298</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">timestamp:</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">1651505843</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">account:</span><span style="color:#A6ACCD;">             </span><span style="color:#F78C6C;">0x736D76f4C2d4b4CCced0CCA92d3dF0F0e456F35D</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">balance:</span><span style="color:#A6ACCD;">             </span><span style="color:#F78C6C;">0.04813429249775099</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">gas</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">used:</span><span style="color:#A6ACCD;">            </span><span style="color:#F78C6C;">135269</span><span style="color:#A6ACCD;"> (0x21065)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">gas</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">price:</span><span style="color:#A6ACCD;">           </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gwei</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sent:</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ETH</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">total</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cost:</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">0.00135269</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ETH</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Saving</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">artifacts</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">-------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Total</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cost:</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">0.00135269</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ETH</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Summary</span></span>
<span class="line"><span style="color:#A6ACCD;">=======</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Total deployments:   1</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Final cost:          0.00135269 ETH</span></span></code></pre></div></li></ol></li></ol><h4 id="è¡¥å……å†…å®¹" tabindex="-1">è¡¥å……å†…å®¹ <a class="header-anchor" href="#è¡¥å……å†…å®¹" aria-label="Permalink to &quot;è¡¥å……å†…å®¹&quot;">â€‹</a></h4><ol><li><p>Truffle consoleä½¿ç”¨ï¼ˆå¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°è°ƒç”¨åˆçº¦ï¼‰</p><p>å…ˆæŠŠåˆçº¦éƒ¨ç½²åˆ°development</p><p><code>truffle console --network development</code>å¼€å¯è°ƒç”¨æ¨¡å¼</p></li><li><p>truffle-min.sh(å‹ç¼©artifactsæ–‡ä»¶)</p><p>æˆ‘ä»¬compileåï¼Œæ˜¯ä¼šåœ¨buildé‡Œè¾“å‡ºä¸€ä¸ªjsonï¼Œä½†æ˜¯è¿™ä¸ªjsonå¾ˆå¤§ï¼Œæ‰€ä»¥å¯ä»¥å€ŸåŠ©è¿™ä¸ªè„šæœ¬æ¥å¯¹è¿™ä¸ªjsonè¿›è¡Œå‹ç¼©ï¼Œå¯ä»¥ä»å‡ åƒè¡Œå‹ç¼©åˆ°å‡ åè¡Œï¼Œç„¶åæˆ‘ä»¬åç»­çš„å¼€å‘æœ‰å¼•ç”¨è¿™ä¸ªjsonçš„éœ€æ±‚çš„æ—¶å€™ï¼Œå°±å¯ä»¥å¼•å…¥è¿™ä¸ªå‹ç¼©çš„json</p></li></ol><h3 id="_3-hardhat" tabindex="-1">3. Hardhat <a class="header-anchor" href="#_3-hardhat" aria-label="Permalink to &quot;3. Hardhat&quot;">â€‹</a></h3><p>Hardhat:ç¼–è¯‘ã€éƒ¨ç½²ã€æµ‹è¯•å’Œè°ƒè¯•ä»¥å¤ªåŠåº”ç”¨çš„å¼€å‘ç¯å¢ƒï¼Œå›´ç»•taskï¼ˆä»»åŠ¡ï¼‰å’Œpluginsï¼ˆæ’ä»¶ï¼‰æ¦‚å¿µè®¾è®¡</p><p>åœ¨å‘½ä»¤è¡Œè¿è¡ŒHardhatæ—¶ï¼Œéƒ½æ˜¯åœ¨è¿è¡Œä»»åŠ¡ï¼Œä¾‹å¦‚ï¼šnpx hardhat compileå°±æ˜¯è¿è¡Œcompileä»»åŠ¡</p><p>Hardhat node:å¼€å‘åŒºå—é“¾ï¼Œæä¾›æœ¬åœ°æ¨¡æ‹Ÿçš„é“¾ä¸Šç¯å¢ƒ</p><p><a href="https://hardhat.org/getting-started/" target="_blank" rel="noreferrer">å®˜æ–¹æ–‡æ¡£</a>,<a href="https://learnblockchain.cn/docs/hardhat/getting-started/" target="_blank" rel="noreferrer">ä¸­æ–‡æ–‡æ¡£</a></p><p><a href="https://github.com/NomicFoundation/hardhat-hackathon-boilerplate" target="_blank" rel="noreferrer">å‚è€ƒä»£ç </a></p><p><a href="https://github.com/clark-cui/hardhat-demo" target="_blank" rel="noreferrer">æˆ‘çš„ä»£ç </a></p><h4 id="åˆ›å»ºå·¥ç¨‹" tabindex="-1">åˆ›å»ºå·¥ç¨‹ <a class="header-anchor" href="#åˆ›å»ºå·¥ç¨‹" aria-label="Permalink to &quot;åˆ›å»ºå·¥ç¨‹&quot;">â€‹</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat-demo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//åˆ›å»ºä¸€ä¸ªfolder</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat-demo</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//åˆå§‹åŒ–npm</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//å½“å‰ç›®å½•ä¸‹å®‰è£…hardhat</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºé¡¹ç›®,å¯ä»¥é€‰basic-sample</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">æ³¨æ„ï¼Œè¿™ä¸€æ­¥è¦å¼€å¯shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proxy</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>contractsé‡Œæ–°å»ºCounter.solï¼Œæ·»åŠ ä¸€ä¸‹å†…å®¹</p><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// SPDX-License-Identifier:  MIT</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">solidity</span><span style="color:#A6ACCD;"> ^0.8.0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;hardhat/console.sol&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#FFCB6B;"> Counter</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> counter</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">count</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter</span><span style="color:#89DDFF;">+=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;curr counter:&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="åˆçº¦ç¼–è¯‘-1" tabindex="-1">åˆçº¦ç¼–è¯‘ <a class="header-anchor" href="#åˆçº¦ç¼–è¯‘-1" aria-label="Permalink to &quot;åˆçº¦ç¼–è¯‘&quot;">â€‹</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å…ˆä¿®æ”¹hardhat.config.jsï¼Œè®¾ç½®ç¼–è¯‘å™¨ç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports={</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">Solidity</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.8.9</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//ç„¶åå‘½ä»¤è¡Œè¾“å…¥</span></span>
<span class="line"><span style="color:#A6ACCD;">npx hardhat compile</span></span></code></pre></div><h4 id="éƒ¨ç½²" tabindex="-1">éƒ¨ç½² <a class="header-anchor" href="#éƒ¨ç½²" aria-label="Permalink to &quot;éƒ¨ç½²&quot;">â€‹</a></h4><ol><li><p>ç¼–å†™éƒ¨ç½²è„šæœ¬</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//scripts/deploy_counter.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> hre </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hardhat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//await hre.run(&#39;compile&#39;);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">hre</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//deployé‡Œçš„æ‹¬å·å¯ä»¥ä¼ å‚ï¼Œå…·ä½“çœ‹åˆçº¦é‡Œçš„construtoræœ‰æ²¡æœ‰å‚æ•°è€Œå®š</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployed</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter deployed to:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>å¦‚æœæƒ³è¦ä¸€æ¬¡éƒ¨ç½²å¤šä¸ªåˆçº¦ï¼Œæ¯”å¦‚è¿™é‡Œæœ‰counterå’Œgreeteråˆçº¦ï¼Œé‚£ä¹ˆå¯ä»¥è¿™ä¹ˆå†™</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//scripts/deploy.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ethers </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hardhat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">deployer</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSigners</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Deploying contracts with the account: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">deployer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Deploy Greeter</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Greeter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Greeter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">greeter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Greeter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello, Hardhat!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Deploy Counter</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">hre</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// console.log</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Greeter deployed to:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">greeter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter deployed to:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">error</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div></li><li><p>éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ</p><p>å…ˆå¯åŠ¨ä¸€ä¸ªæœ¬åœ°ç½‘ç»œ<code>npx hardhat node</code>,ç„¶åå†æ ¹æ®ç«¯å£å€¼æ¥ä¿®æ”¹hardhat.config.jsï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//hardhat.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports={</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">development</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:8545</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">chainId</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">31337</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>æ‰§è¡Œéƒ¨ç½²<code>npx hardhat run scripts/deploy_xxx.js [--network ç½‘ç»œ]</code>ï¼Œè€Œè¿™é‡Œçš„è¯ï¼Œå°±æ˜¯æ‰§è¡Œ<code>npx hardhat run scripts/deploy_counter.js --network development</code></p></li><li><p>éƒ¨ç½²åˆ°é“¾ä¸Š</p><p>éœ€è¦éƒ¨ç½²åˆ°é“¾ä¸Šçš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥å…ˆå»<a href="https://infura.io/" target="_blank" rel="noreferrer">infura.io</a>åˆ›å»ºä¸€ä¸ªprojectï¼Œç„¶åcopy project idï¼ˆé€‰æ‹©endpointsæ˜¯goerliï¼‰</p><p>æœ¬åœ°æ·»åŠ .api_keyå’Œ.mnemonicï¼Œ.gitignoreæ·»åŠ è¿‡æ»¤è¿™ä¸¤é¡¹ï¼Œç„¶åä¿®æ”¹hardhat.config.js,å¢åŠ ä»¥ä¸‹å†…å®¹</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//hardhat.config.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> api_key </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFileSync</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.api_key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mnemonic </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFileSync</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.mnemonic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports={</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">goerli</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">https://goerli.infura.io/v3/</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">api_key</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">accounts</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">mnemonic</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">mnemonic</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li></ol><p>â€‹ æ‰§è¡Œéƒ¨ç½²<code>npx hardhat run scripts/deploy.js --network goerli</code></p><h4 id="æµ‹è¯•" tabindex="-1">æµ‹è¯• <a class="header-anchor" href="#æµ‹è¯•" aria-label="Permalink to &quot;æµ‹è¯•&quot;">â€‹</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">expect</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chai</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hardhat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">describe</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">it</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">counter should be 0 when init , be added 1 after count be called, be added x after add be called with x</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">async</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployed</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">expect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setCountTx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">count</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// wait until the transaction is mined</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setCountTx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">expect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">addCountTx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">10</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">addCountTx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">expect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">11</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><code>npx hardhat test</code>æ‰§è¡Œæµ‹è¯•</p><h4 id="å®æˆ˜" tabindex="-1">å®æˆ˜ <a class="header-anchor" href="#å®æˆ˜" aria-label="Permalink to &quot;å®æˆ˜&quot;">â€‹</a></h4><ol><li><p>è°ƒè¯•åˆ©å™¨ï¼šconsole.log</p><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;hardhat/console.sol&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">);</span></span></code></pre></div></li><li><p>çµæ´»å‚æ•°éƒ¨ç½²ï¼Œåˆ©ç”¨hardhatå¯ä»¥åœ¨ä»£ç ä¸­å¼•ç”¨(è¿™é‡Œå€¼çš„æ˜¯åˆçº¦åˆå§‹åŒ–çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯constructoréœ€è¦çš„å‚æ•°ï¼Œæ¯”å¦‚Greeteråˆçº¦ï¼Œè¿™é‡Œå¯ä»¥åœ¨éƒ¨ç½²è„šæœ¬é‡Œä¼ å…¥å‚æ•°ï¼Œæ¯”å¦‚deploy_greeter.jsæ‰€å†™ã€‚ä¹Ÿå¯ä»¥ç”¨nodejsçš„æ–¹å¼ï¼Œåœ¨å‘½ä»¤è¡Œä¼ å…¥å‚æ•°,ç„¶ååœ¨éƒ¨ç½²è„šæœ¬é‡Œå–å‡ºæ¥)</p><ol><li><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Counter.sol</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// SPDX-License-Identifier:  MIT</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">solidity</span><span style="color:#A6ACCD;"> ^0.8.0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;hardhat/console.sol&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#FFCB6B;"> Counter</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> counter</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">_counter</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _counter</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">count</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter</span><span style="color:#89DDFF;">+=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;curr counter:&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        counter</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// test_counter.js</span></span>
<span class="line"><span style="color:#A6ACCD;">const </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">expect</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;chai&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">const </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;hardhat&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">describe</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;Counter&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">it</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;counter should be 0 when init , be added 1 after count be called, be added x after add be called with x&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> async </span><span style="color:#82AAFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    const Counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> await ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">&quot;Counter&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    const counterInstance </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> await Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    await counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployed</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">expect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">await counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#89DDFF;">()).</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    const setCountTx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> await counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">count</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// wait until the transaction is mined</span></span>
<span class="line"><span style="color:#A6ACCD;">    await setCountTx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">expect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">await counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#89DDFF;">()).</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    const addCountTx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> await counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    await addCountTx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">expect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">await counterInstance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#89DDFF;">()).</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">11</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#89DDFF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//deploy_counter.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//å…¶ä½™ç›¸åŒï¼Œåªéœ€æ”¹ä¸‹é¢è¿™ä¸€å¥</span></span>
<span class="line"><span style="color:#A6ACCD;"> const counter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> await Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span></code></pre></div></li><li><p>è®¾ç½®deployè„šæœ¬</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hardhat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> params</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">argv</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> value</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">params[</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter deploy with value:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">value)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//await hre.run(&#39;compile&#39;);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployed</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter deployed to:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div></li><li><p>æ‰§è¡Œnodeè„šæœ¬,å¹¶ä¼ é€’å‚æ•°</p><p>éœ€è¦ä¸¤ä¸ªå‘½ä»¤ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¾æ¬¡æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å†™æˆä¸€ä¸ª.shï¼Œ<code>sh ./deploy_by_param.sh </code>æ‰§è¡Œè¿™ä¸ª.shå³å¯</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./deploy_by_param.sh</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> HARDHAT_NETWORK</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">//è®¾ç½®networkçš„å€¼æ˜¯developmentï¼›è¿™å°±æ˜¯nodeæ‰§è¡Œhardhatè„šæœ¬é™„ç€hardhatå‚æ•°çš„æ–¹å¼+</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scripts/deploy_by_param.js</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//åœ¨è¿™é‡Œä¼ å…¥åˆå§‹åŒ–å‚æ•°æ˜¯10</span></span></code></pre></div></li></ol></li><li><p>ä»£ç æ‰å¹³ï¼š<code>npx hardhat flatten xxx.sol &gt; xxx.sol</code></p><p>æœ¬è´¨çš„æ„ä¹‰æ˜¯ï¼Œå½“ä¸€ä¸ªåˆçº¦çš„é‡Œé¢æœ‰importå¼•ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤æŠŠå¼•ç”¨çš„ä»£ç å’Œæœ¬èº«çš„ä»£ç æ”¾åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿çœ‹ï¼Œè¿™é‡Œçš„è¯å°±æ˜¯<code>npx hardhat flatten contracts/Counter.sol &gt;&gt;Counter.sol</code></p></li><li><p>ä»£ç éªŒè¯</p><p>å½“åˆçº¦éƒ¨ç½²åœ¨é“¾ä¸Šåï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤æ¥å¯¹ä»£ç è¿›è¡ŒéªŒè¯</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">1.å…ˆå®‰è£…</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat-etherscan</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--dev</span></span>
<span class="line"><span style="color:#FFCB6B;">2.hardhat.config.jsé‡Œæ·»åŠ require(</span><span style="color:#FFCB6B;">&quot;@nomiclabs/hardhat-etherscan&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">3.æ·»åŠ scankey,const</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scankey=</span><span style="color:#89DDFF;">`${</span><span style="color:#A6ACCD;">scanKey</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">//å› ä¸ºè°ƒç”¨etherscançš„apiï¼Œæ‰€ä»¥éœ€è¦å»ä»–é‚£é‡Œç”³è¯·ä¸€ä¸ªkey,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://etherscan.io/,è¿™ä¸ªkeyæœ€å¥½ä¹Ÿç”¨éšè—æ–‡ä»¶ï¼Œä¸è¦æš´éœ²å‡ºå»</span></span>
<span class="line"><span style="color:#FFCB6B;">4.åœ¨é…ç½®é‡Œï¼Œnetworksçš„ä¸‹é¢ï¼Œæ·»åŠ åŒçº§é¡¹</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">etherscan:{apiKey:scankey}</span></span>
<span class="line"><span style="color:#FFCB6B;">5.å‘½ä»¤è¡Œæ‰§è¡Œnpx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">verify</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">addressæ˜¯åˆçº¦çš„éƒ¨ç½²åœ°å€ï¼Œxxxæ˜¯è¦éªŒè¯çš„ç½‘ç»œ</span></span></code></pre></div></li><li><p>ABIå¯¼å‡º</p><p>å½“åˆçº¦éƒ¨ç½²åï¼Œéœ€è¦å¯¼å‡ºABIä¾›å‰ç«¯è°ƒç”¨ï¼Œé»˜è®¤çš„deployå°±ä¼šå¯¼å‡ºä¸€ä¸ªæ€»çš„jsoné‡Œé¢åŒ…æ‹¬abiï¼Œä¸è¿‡æ¯”è¾ƒå¤§è€Œå·²ï¼Œè¿™é‡Œæ˜¯ä»…å¯¼å‡ºabiçš„json</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">1.å…ˆå®‰è£…</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat-abi-exporter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--dev</span></span>
<span class="line"><span style="color:#FFCB6B;">2.hardhat.config.jsé‡Œæ·»åŠ require(</span><span style="color:#FFCB6B;">&quot;hardhat-abi-exporter&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">3.hardhat.config.jsé‡Œé…ç½®ä¸‹å¯¼å‡º,æ–°å»º./abiç›®å½•æ¥å­˜æ”¾</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">abiExporter:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">path:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./abi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">runOnCompile:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">clear:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">flat:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">spacing:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">pretty:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#FFCB6B;">4.npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hardhat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">export-abi</span></span></code></pre></div></li><li><p>è‡ªå®šä¹‰Task</p><p>åœ¨hardhat.config.jsé‡Œå¯ä»¥å†™task,ç„¶åé€šè¿‡<code>npx hardhat taskName</code>å®Œæˆä¸€äº›æƒ³è¦åšçš„äº‹ï¼Œä¹Ÿå¯ä»¥åœ¨taskæ–‡ä»¶å¤¹é‡Œå†™ï¼Œç„¶ååœ¨hardhat.config.jsç”¨requireå¼•å…¥</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">task</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">accounts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Prints the list of accounts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">async</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">taskArgs</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">hre</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">accounts</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">hre</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSigners</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">account</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">accounts</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">account</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//å‘½ä»¤è¡Œ npx hardhat accountsæ‰§è¡Œ</span></span></code></pre></div></li><li><p>ä¹¦å†™è„šæœ¬å»è°ƒç”¨åˆçº¦ï¼Œå®ç°å‰ç«¯ä¸åˆçº¦çš„äº¤äº’</p><ol><li><p>å‰ç«¯æƒ³è¦è°ƒç”¨åˆçº¦ï¼Œé‚£å°±å¾—çŸ¥é“åˆçº¦çš„åœ°å€å’Œabiï¼Œä¹‹å‰æœ‰ç”¨npmå¤„ç†äº†abiçš„å•ç‹¬å¯¼å‡ºï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¤„ç†åˆçº¦çš„åœ°å€ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬æ”¹é€ ä¸‹deployè„šæœ¬ï¼Œè®©å®ƒè‡ªåŠ¨ä¿å­˜åœ°å€å’Œabiåˆ°ä¸€ä¸ªdataçš„ç›®å½•ä¸‹</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// scripts/deploy_counter.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> hre </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hardhat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//await hre.run(&#39;compile&#39;);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">hre</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractFactory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployed</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter deployed to:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">saveFrontendFiles</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">saveFrontendFiles</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">counter</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">require</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">contractsDir</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">existsSync</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">contractsDir</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mkdirSync</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">contractsDir</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeFileSync</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">contractsDir</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/contract-address.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      Counter</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">undefined,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">CounterArtifact</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">artifacts</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readArtifactSync</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeFileSync</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">contractsDir</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/Counter.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">CounterArtifact</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//ç„¶åæ‰§è¡Œè„šæœ¬ npx hardhat run scripts/deploy_counter.js --network development</span></span></code></pre></div></li><li><p>æ–°å»ºaction.jså®ç°å‰ç«¯è°ƒç”¨åˆçº¦çš„é€»è¾‘</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  ethers</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hardhat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> CounterArtifact </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../data/Counter.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> contractAddress </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../data/contract-address.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// init</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">provider</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">providers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">JsonRpcProvider</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://127.0.0.1:8545/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Then, we initialize the contract using that provider and the token&#39;s</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// artifact. You can do this same thing with your contracts.</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ethers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Contract</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">contractAddress</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Counter</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">CounterArtifact</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">abi</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">provider</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSigner</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">counterå€¼æ˜¯ï¼š</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#F07178;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">count</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">counterå€¼æ˜¯ï¼š</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">counter</span><span style="color:#F07178;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)()</span></span></code></pre></div></li></ol></li></ol></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-5774f702><!--[--><!--]--><!----><!----></footer><!--[--><!--[--><!--[--><div data-v-b6723eb2><button data-v-b6723eb2>cd Â·Â·</button></div><div id="gitalk-container" data-v-b6723eb2></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div><footer data-v-b6723eb2 data-v-e6c8925d> Copyright Â© 2023 - Present | Simon Pangan </footer><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"posts_defiç§‘æ™®.md\":\"d43747c6\",\"tags.md\":\"0454cd37\",\"index.md\":\"29509a7c\",\"archives.md\":\"12b0041c\",\"posts_è™šæ‹Ÿæœºé…ç½®.md\":\"39abc0f6\",\"posts_proxyconfig.md\":\"82861888\",\"posts_cosmosè¯¦è§£.md\":\"8a53838e\",\"posts_å¯†ç å­¦åŸç†.md\":\"4985a506\",\"posts_ä½¿ç”¨whisperç”Ÿæˆå­—å¹•.md\":\"6623061e\",\"posts_éšä¾¿è¯´ç‚¹å•¥.md\":\"1f958ec6\",\"posts_æ™ºèƒ½åˆçº¦å¼€å‘2.md\":\"a477179e\",\"posts_buildsite.md\":\"484fc4dc\",\"posts_åŒºå—é“¾ç§‘æ™®2.md\":\"dd329ff8\",\"posts_å‰ç«¯å·²æ­».md\":\"3e096354\",\"posts_2022 annual summary.md\":\"89f9f70b\",\"posts_åšå®¢å¼€å¯https.md\":\"459c3b1a\",\"posts_å˜é‡æå‡.md\":\"606174a9\",\"posts_åŒºå—é“¾ç§‘æ™®.md\":\"dce86609\",\"posts_æ™ºèƒ½åˆçº¦å¼€å‘.md\":\"e198ff32\",\"posts_reactä¼˜åŒ–.md\":\"24c4becc\",\"posts_macå¤–æ¥æ˜¾ç¤ºå™¨.md\":\"d3a610b4\",\"posts_ä¸ºä»€ä¹ˆdexéœ€è¦æˆæƒ.md\":\"305e42e1\",\"posts_åˆçº¦çš„multicall.md\":\"9b5ca0f9\",\"posts_typescriptå­¦ä¹ ç¬”è®°.md\":\"7bc7e62f\",\"posts_tts.md\":\"0fbd71e8\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Simon Pangan\",\"description\":\"This is Simon Pangan blogs\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"avator\":\"/grad-pic.png\",\"search\":{\"provider\":\"local\"},\"docsDir\":\"/\",\"posts\":[{\"frontMatter\":{\"title\":\"2022 Annual Summary\",\"description\":\"2022 Annual Summary\",\"date\":\"2023-04-19\",\"tags\":[\"English\"]},\"regularPath\":\"/posts/2022 Annual Summary.html\"},{\"frontMatter\":{\"title\":\"å‰ç«¯å·²æ­»\",\"description\":\"å‰ç«¯å·²æ­»\",\"date\":\"2023-04-05\",\"tags\":[\"é—²èŠ\"]},\"regularPath\":\"/posts/å‰ç«¯å·²æ­».html\"},{\"frontMatter\":{\"title\":\"ä½¿ç”¨whisperç”Ÿæˆå­—å¹•\",\"description\":\"ä½¿ç”¨whisperç”Ÿæˆå­—å¹•\",\"date\":\"2023-03-22\",\"tags\":[\"å·¥å…·\"]},\"regularPath\":\"/posts/ä½¿ç”¨whisperç”Ÿæˆå­—å¹•.html\"},{\"frontMatter\":{\"title\":\"åˆçº¦çš„multicall\",\"description\":\"åˆçº¦çš„multicall\",\"date\":\"2023-03-20\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/åˆçº¦çš„multicall.html\"},{\"frontMatter\":{\"title\":\"ä¸ºä»€ä¹ˆDEXéœ€è¦æˆæƒ?\",\"description\":\"ä¸ºä»€ä¹ˆDEXéœ€è¦æˆæƒ?\",\"date\":\"2023-02-16\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/ä¸ºä»€ä¹ˆDEXéœ€è¦æˆæƒ.html\"},{\"frontMatter\":{\"title\":\"åŒºå—é“¾ç§‘æ™®2\",\"description\":\"åŒºå—é“¾åŸºç¡€çŸ¥è¯†\",\"date\":\"2023-02-13\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/åŒºå—é“¾ç§‘æ™®2.html\"},{\"frontMatter\":{\"title\":\"React ç®€å•ä¼˜åŒ–\",\"description\":\"React\",\"date\":\"2022-09-03\",\"tags\":[\"React\"]},\"regularPath\":\"/posts/reactä¼˜åŒ–.html\"},{\"frontMatter\":{\"title\":\"å¯†ç å­¦åŸç†\",\"description\":\"åŒºå—é“¾åŸºç¡€çŸ¥è¯†\",\"date\":\"2022-08-15\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/å¯†ç å­¦åŸç†.html\"},{\"frontMatter\":{\"title\":\"Cosmos è¯¦è§£\",\"description\":\"cosmos\",\"date\":\"2022-07-05\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/Cosmosè¯¦è§£.html\"},{\"frontMatter\":{\"title\":\"æ™ºèƒ½åˆçº¦å¼€å‘2\",\"description\":\"æ™ºèƒ½åˆçº¦\",\"date\":\"2022-05-09\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/æ™ºèƒ½åˆçº¦å¼€å‘2.html\"},{\"frontMatter\":{\"title\":\"æ™ºèƒ½åˆçº¦å¼€å‘\",\"description\":\"æ™ºèƒ½åˆçº¦\",\"date\":\"2022-05-06\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/æ™ºèƒ½åˆçº¦å¼€å‘.html\"},{\"frontMatter\":{\"title\":\"DeFiç§‘æ™®\",\"description\":\"DeFiåŸºç¡€çŸ¥è¯†\",\"date\":\"2022-05-01\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/DeFiç§‘æ™®.html\"},{\"frontMatter\":{\"title\":\"åŒºå—é“¾ç§‘æ™®\",\"description\":\"åŒºå—é“¾åŸºç¡€çŸ¥è¯†\",\"date\":\"2022-04-27\",\"tags\":[\"åŒºå—é“¾\"]},\"regularPath\":\"/posts/åŒºå—é“¾ç§‘æ™®.html\"},{\"frontMatter\":{\"title\":\"è™šæ‹Ÿæœºé…ç½®\",\"description\":\"é…ç½®è™šæ‹Ÿæœºå¼€å‘ç¯å¢ƒ\",\"date\":\"2022-01-20\",\"tags\":[\"å·¥å…·\"]},\"regularPath\":\"/posts/è™šæ‹Ÿæœºé…ç½®.html\"},{\"frontMatter\":{\"title\":\"åšå®¢å¼€å¯https\",\"description\":\"æ‰€æœ‰å­åŸŸåéƒ½å¼€å¯äº†https\",\"date\":\"2022-01-11\",\"tags\":[\"å»ºç«™\"]},\"regularPath\":\"/posts/åšå®¢å¼€å¯https.html\"},{\"frontMatter\":{\"title\":\"éšä¾¿è¯´ç‚¹å•¥\",\"description\":\"å¹å¹æ°´\",\"date\":\"2022-01-10\",\"tags\":[\"é—²èŠ\"]},\"regularPath\":\"/posts/éšä¾¿è¯´ç‚¹å•¥.html\"},{\"frontMatter\":{\"title\":\"macå¤–æ¥æ˜¾ç¤ºå™¨\",\"description\":\"macå¤–æ¥æ˜¾ç¤ºå™¨çš„å‘\",\"date\":\"2021-10-15\",\"tags\":[\"å·¥å…·\"]},\"regularPath\":\"/posts/macå¤–æ¥æ˜¾ç¤ºå™¨.html\"},{\"frontMatter\":{\"title\":\"TypeScriptå­¦ä¹ ç¬”è®°\",\"description\":\"typescriptå­¦ä¹ ç¬”è®°\",\"date\":\"2021-09-03\",\"tags\":[\"typescript\"]},\"regularPath\":\"/posts/TypeScriptå­¦ä¹ ç¬”è®°.html\"},{\"frontMatter\":{\"title\":\"TTS\",\"description\":\"tts\",\"date\":\"2021-05-03\",\"tags\":[\"javascript\"]},\"regularPath\":\"/posts/TTS.html\"},{\"frontMatter\":{\"title\":\"jså˜é‡æå‡\",\"description\":\"javascriptçš„å˜é‡æå‡æœºåˆ¶\",\"date\":\"2020-12-08\",\"tags\":[\"javascript\"]},\"regularPath\":\"/posts/å˜é‡æå‡.html\"},{\"frontMatter\":{\"title\":\"ä»£ç†é…ç½®\",\"description\":\"ç”±äºç½‘ç»œé—®é¢˜ï¼Œéœ€è¦åšä¸€äº›ä»£ç†çš„è®¾ç½®ï¼Œè¿™é‡Œæ˜¯æˆ‘çš„ä¸€äº›è®°å½•\",\"date\":\"2020-06-10\",\"tags\":[\"å·¥å…·\"]},\"regularPath\":\"/posts/proxyConfig.html\"},{\"frontMatter\":{\"title\":\"å»ºç«™æ—¥è®°\",\"description\":\"è¿™æ˜¯æœåŠ¡å™¨å»ºç«™çš„ä¸€ç³»åˆ—è®°å½•ï¼Œæ—©æœŸçš„ç‰ˆæœ¬å·²ç»é—å¤±ï¼Œè¿™é‡Œæ˜¯ç›®å‰çš„ä¸€äº›å®è·µä¸æƒ³æ³•\",\"date\":\"2020-01-10\",\"tags\":[\"å»ºç«™\"]},\"regularPath\":\"/posts/buildSite.html\"}],\"pageSize\":5,\"postLength\":22,\"nav\":[{\"text\":\"Blogs\",\"link\":\"/\"},{\"text\":\"Tags\",\"link\":\"/tags\"},{\"text\":\"Archives\",\"link\":\"/archives\"},{\"text\":\"About Me\",\"target\":\"_blank\",\"link\":\"https://simonpangan.netlify.app/\"},{\"text\":\"RSS\",\"link\":\"https://simonpangan-blogs.netlify.app/feed.xml\"}],\"socialLinks\":[{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/in/simonpangan/\"},{\"icon\":\"github\",\"link\":\"https://github.com/simonpangan\"},{\"icon\":{\"svg\":\"<svg role=\\\"img\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\">\\n            <path d=\\\"M874.666667 375.189333V746.666667a64 64 0 0 1-64 64H213.333333a64 64 0 0 1-64-64V375.189333l266.090667 225.6a149.333333 149.333333 0 0 0 193.152 0L874.666667 375.189333zM810.666667 213.333333a64.789333 64.789333 0 0 1 22.826666 4.181334 63.616 63.616 0 0 1 26.794667 19.413333 64.32 64.32 0 0 1 9.344 15.466667c2.773333 6.570667 4.48 13.696 4.906667 21.184L874.666667 277.333333v21.333334L553.536 572.586667a64 64 0 0 1-79.893333 2.538666l-3.178667-2.56L149.333333 298.666667v-21.333334a63.786667 63.786667 0 0 1 35.136-57.130666A63.872 63.872 0 0 1 213.333333 213.333333h597.333334z\\\" ></path>\\n            </svg>\"},\"link\":\"mailto:simonjoseph.pangan@gmail.com\"}],\"aside\":false},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>